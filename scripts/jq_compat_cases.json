[
  {
    "name": "identity",
    "filter": ".",
    "input": "{\"foo\":1}"
  },
  {
    "name": "field",
    "filter": ".foo",
    "input": "{\"foo\":1,\"bar\":2}"
  },
  {
    "name": "missing-field",
    "filter": ".missing",
    "input": "{\"foo\":1}"
  },
  {
    "name": "index",
    "filter": ".[1]",
    "input": "[10,20,30]"
  },
  {
    "name": "slice",
    "filter": ".[1:3]",
    "input": "[10,20,30,40]"
  },
  {
    "name": "iter",
    "filter": ".[]",
    "input": "[1,2,3]"
  },
  {
    "name": "pipe-comma",
    "filter": "(.a | .b), .c",
    "input": "{\"a\":{\"b\":2},\"c\":3}"
  },
  {
    "name": "fallback",
    "filter": "empty // .b",
    "input": "{\"b\":2}"
  },
  {
    "name": "if-then-else",
    "filter": "if .ok then .v else .w end",
    "input": "{\"ok\":true,\"v\":1,\"w\":2}"
  },
  {
    "name": "reduce",
    "filter": "reduce .[] as $x (0; . + $x)",
    "input": "[1,2,3]"
  },
  {
    "name": "map",
    "filter": "map(. + 1)",
    "input": "[1,2,3]"
  },
  {
    "name": "contains",
    "filter": "contains([1,3])",
    "input": "[1,2,3]"
  },
  {
    "name": "split",
    "filter": "split(\",\")",
    "input": "\"a,b,c\""
  },
  {
    "name": "join",
    "filter": "join(\"-\")",
    "input": "[\"a\",\"b\",\"c\"]"
  },
  {
    "name": "sort-by",
    "filter": "sort_by(.a) | map(.a)",
    "input": "[{\"a\":2},{\"a\":1}]"
  },
  {
    "name": "group-by",
    "filter": "group_by(.)",
    "input": "[3,1,2,1]"
  },
  {
    "name": "unique-by",
    "filter": "unique_by(.)",
    "input": "[3,1,2,1]"
  },
  {
    "name": "getpath",
    "filter": "getpath([\"a\",1])",
    "input": "{\"a\":[10,20,30]}"
  },
  {
    "name": "setpath",
    "filter": "setpath([\"a\"];2) | .a",
    "input": "{\"a\":1}"
  },
  {
    "name": "delpaths",
    "filter": "delpaths([[\"a\"]]) | .b",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "tojson-fromjson",
    "filter": "tojson | fromjson | .x | .[1]",
    "input": "{\"x\":[1,2]}"
  },
  {
    "name": "bsearch",
    "filter": "bsearch(2)",
    "input": "[1,3,5]"
  },
  {
    "name": "indices",
    "filter": "indices(\"na\")",
    "input": "\"banana\""
  },
  {
    "name": "optional-field-on-scalar",
    "filter": ".foo?",
    "input": "1"
  },
  {
    "name": "try-catch",
    "filter": "try (.a + 1) catch 1",
    "input": "{\"a\":\"hi\",\"b\":1}"
  },
  {
    "name": "foreach",
    "filter": "foreach .[] as $x (0; . + $x; .)",
    "input": "[1,2,3]"
  },
  {
    "name": "map-values",
    "filter": "map_values(select(. > 1))",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "any-call",
    "filter": "any(. > 2)",
    "input": "[1,2,3]"
  },
  {
    "name": "all-call",
    "filter": "all(. > 0)",
    "input": "[1,2,3]"
  },
  {
    "name": "any-generator",
    "filter": "any(.[]; . > 2)",
    "input": "[1,2,3]"
  },
  {
    "name": "all-generator",
    "filter": "all(.[]; . > 0)",
    "input": "[1,2,3]"
  },
  {
    "name": "all-generator-false",
    "filter": "all(.[]; . > 2)",
    "input": "[1,2,3]"
  },
  {
    "name": "startswith",
    "filter": "startswith(\"he\")",
    "input": "\"hello\""
  },
  {
    "name": "endswith",
    "filter": "endswith(\"lo\")",
    "input": "\"hello\""
  },
  {
    "name": "ltrimstr",
    "filter": "ltrimstr(\"foo\")",
    "input": "\"foobar\""
  },
  {
    "name": "rtrimstr",
    "filter": "rtrimstr(\"bar\")",
    "input": "\"foobar\""
  },
  {
    "name": "has-object",
    "filter": "has(\"a\")",
    "input": "{\"a\":1}"
  },
  {
    "name": "in-call",
    "filter": "\"a\" | in({\"a\":1})",
    "input": "null"
  },
  {
    "name": "type",
    "filter": "type",
    "input": "{\"a\":1}"
  },
  {
    "name": "length-null",
    "filter": "length",
    "input": "null"
  },
  {
    "name": "tostring",
    "filter": "tostring",
    "input": "[1,2]"
  },
  {
    "name": "tonumber",
    "filter": "tonumber",
    "input": "\"1.25\""
  },
  {
    "name": "flatten-depth",
    "filter": "flatten(1)",
    "input": "[1,[2],[[3]]]"
  },
  {
    "name": "transpose",
    "filter": "transpose",
    "input": "[[1,2],[3,4]]"
  },
  {
    "name": "to-entries",
    "filter": "to_entries",
    "input": "{\"a\":1}"
  },
  {
    "name": "from-entries",
    "filter": "from_entries",
    "input": "[{\"key\":\"a\",\"value\":1}]"
  },
  {
    "name": "with-entries",
    "filter": "with_entries({key: (.key + \"_x\"), value: .value})",
    "input": "{\"a\":1}"
  },
  {
    "name": "reverse",
    "filter": "reverse",
    "input": "[1,2,3]"
  },
  {
    "name": "explode",
    "filter": "explode",
    "input": "\"ab\""
  },
  {
    "name": "implode",
    "filter": "implode",
    "input": "[97,98]"
  },
  {
    "name": "ascii-upcase",
    "filter": "ascii_upcase",
    "input": "\"AbC_z\""
  },
  {
    "name": "ascii-downcase",
    "filter": "ascii_downcase",
    "input": "\"AbC_Z\""
  },
  {
    "name": "first",
    "filter": "first",
    "input": "[1,2,3]"
  },
  {
    "name": "last",
    "filter": "last",
    "input": "[1,2,3]"
  },
  {
    "name": "nth-negative",
    "filter": "nth(-1)",
    "input": "[1,2,3]"
  },
  {
    "name": "sort",
    "filter": "sort",
    "input": "[3,1,2]"
  },
  {
    "name": "unique",
    "filter": "unique",
    "input": "[3,1,2,1]"
  },
  {
    "name": "min",
    "filter": "min",
    "input": "[3,1,2]"
  },
  {
    "name": "max",
    "filter": "max",
    "input": "[3,1,2]"
  },
  {
    "name": "index-string",
    "filter": "index(\"na\")",
    "input": "\"banana\""
  },
  {
    "name": "rindex-string",
    "filter": "rindex(\"na\")",
    "input": "\"banana\""
  },
  {
    "name": "keys-array",
    "filter": "keys",
    "input": "[10,20]"
  },
  {
    "name": "keys-unsorted-array",
    "filter": "keys_unsorted",
    "input": "[10,20]"
  },
  {
    "name": "inside",
    "filter": "inside([0,1,2,3])",
    "input": "[1,2]"
  },
  {
    "name": "map-object",
    "filter": "map(. + 1)",
    "input": "{\"a\":1}"
  },
  {
    "name": "arith-literal-plus-nospace",
    "filter": "1+2",
    "input": "null"
  },
  {
    "name": "arith-literal-minus-nospace",
    "filter": "1-2",
    "input": "null"
  },
  {
    "name": "arith-huge-input-plus",
    "filter": ". + 1",
    "input": "1e309"
  },
  {
    "name": "arith-huge-input-minus-self",
    "filter": ". - .",
    "input": "1e309"
  },
  {
    "name": "tonumber-huge-string",
    "filter": "tonumber",
    "input": "\"1E+309\""
  },
  {
    "name": "tonumber-infinity-string",
    "filter": "tonumber",
    "input": "\"Infinity\""
  },
  {
    "name": "arith-add-fields",
    "filter": ".a + .b",
    "input": "{\"a\":2,\"b\":3}"
  },
  {
    "name": "arith-sub-fields",
    "filter": ".a - .b",
    "input": "{\"a\":5,\"b\":3}"
  },
  {
    "name": "arith-mul-fields",
    "filter": ".a * .b",
    "input": "{\"a\":4,\"b\":3}"
  },
  {
    "name": "arith-div-fields",
    "filter": ".a / .b",
    "input": "{\"a\":7.5,\"b\":2.5}"
  },
  {
    "name": "compare-gte",
    "filter": ".a >= .b",
    "input": "{\"a\":2,\"b\":2}"
  },
  {
    "name": "logic-and",
    "filter": ".a and .b",
    "input": "{\"a\":true,\"b\":false}"
  },
  {
    "name": "logic-or",
    "filter": ".a or .b",
    "input": "{\"a\":false,\"b\":true}"
  },
  {
    "name": "logic-not",
    "filter": "not",
    "input": "false"
  },
  {
    "name": "var-binding",
    "filter": ".a as $x | $x + 1",
    "input": "{\"a\":1}"
  },
  {
    "name": "array-literal",
    "filter": "[.a, .b]",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "object-literal",
    "filter": "{x: .a, y: .b}",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "contains-string",
    "filter": "contains(\"ana\")",
    "input": "\"banana\""
  },
  {
    "name": "has-array-index",
    "filter": "has(1)",
    "input": "[10,20]"
  },
  {
    "name": "in-array",
    "filter": "1 | in([0,1,2])",
    "input": "null"
  },
  {
    "name": "values-null",
    "filter": "values",
    "input": "null"
  },
  {
    "name": "scalars-array",
    "filter": "scalars",
    "input": "[1]"
  },
  {
    "name": "add-object-values",
    "filter": "add",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "bsearch-found",
    "filter": "bsearch(3)",
    "input": "[1,3,5]"
  },
  {
    "name": "getpath-missing",
    "filter": "getpath([\"a\",2])",
    "input": "{\"a\":[10,20]}"
  },
  {
    "name": "setpath-nested",
    "filter": "setpath([\"a\",1];99)",
    "input": "{\"a\":[10,20]}"
  },
  {
    "name": "delpaths-multiple",
    "filter": "delpaths([[\"a\"],[\"b\"]])",
    "input": "{\"a\":1,\"b\":2,\"c\":3}"
  },
  {
    "name": "type-filter-nulls",
    "filter": ".[] | nulls",
    "input": "[null,true,1]"
  },
  {
    "name": "type-filter-booleans",
    "filter": ".[] | booleans",
    "input": "[null,true,1,false]"
  },
  {
    "name": "type-filter-numbers",
    "filter": ".[] | numbers",
    "input": "[null,true,1,2.5,\"x\"]"
  },
  {
    "name": "type-filter-strings",
    "filter": ".[] | strings",
    "input": "[null,\"x\",1,\"y\"]"
  },
  {
    "name": "type-filter-arrays",
    "filter": ".[] | arrays",
    "input": "[[],{},[1],2]"
  },
  {
    "name": "type-filter-objects",
    "filter": ".[] | objects",
    "input": "[[],{}, {\"a\":1},2]"
  },
  {
    "name": "type-filter-iterables",
    "filter": ".[] | iterables",
    "input": "[[],{},1,\"x\"]"
  },
  {
    "name": "type-filter-scalars",
    "filter": ".[] | scalars",
    "input": "[[],{},1,\"x\",null,true]"
  },
  {
    "name": "min-by-pipe",
    "filter": "min_by(.a) | .a",
    "input": "[{\"a\":2},{\"a\":1}]"
  },
  {
    "name": "max-by-pipe",
    "filter": "max_by(.a) | .a",
    "input": "[{\"a\":2},{\"a\":1}]"
  },
  {
    "name": "flatten-default",
    "filter": "flatten",
    "input": "[1,[2,[3]]]"
  },
  {
    "name": "paths-basic",
    "filter": "paths",
    "input": "{\"a\":[1],\"b\":2}"
  },
  {
    "name": "add-array",
    "filter": "add",
    "input": "[1,2,3]"
  },
  {
    "name": "values-array",
    "filter": ".[] | values",
    "input": "[null,1,false,true]"
  },
  {
    "name": "contains-object",
    "filter": "contains({\"a\":1})",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "inside-object",
    "filter": "inside({\"a\":1,\"b\":2})",
    "input": "{\"a\":1}"
  },
  {
    "name": "index-array",
    "filter": "index(2)",
    "input": "[1,2,3,2]"
  },
  {
    "name": "rindex-array",
    "filter": "rindex(2)",
    "input": "[1,2,3,2]"
  },
  {
    "name": "indices-array",
    "filter": "indices(2)",
    "input": "[1,2,3,2]"
  },
  {
    "name": "keys-object",
    "filter": "keys",
    "input": "{\"b\":1,\"a\":2}"
  },
  {
    "name": "first-stream",
    "filter": "first(.[])",
    "input": "[9,8,7]"
  },
  {
    "name": "last-stream",
    "filter": "last(.[])",
    "input": "[9,8,7]"
  },
  {
    "name": "compare-eq",
    "filter": ".a == .b",
    "input": "{\"a\":[1,2],\"b\":[1,2]}"
  },
  {
    "name": "compare-neq",
    "filter": ".a != .b",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "compare-lt",
    "filter": ".a < .b",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "compare-lte",
    "filter": ".a <= .b",
    "input": "{\"a\":1,\"b\":1}"
  },
  {
    "name": "compare-gt",
    "filter": ".a > .b",
    "input": "{\"a\":3,\"b\":2}"
  },
  {
    "name": "assign-update-field",
    "filter": ".a |= . + 1",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "assign-add-field",
    "filter": ".a += 4",
    "input": "{\"a\":1}"
  },
  {
    "name": "assign-sub-field",
    "filter": ".a -= 3",
    "input": "{\"a\":10}"
  },
  {
    "name": "assign-mul-index",
    "filter": ".[1] *= 10",
    "input": "[1,2,3]"
  },
  {
    "name": "assign-div-field",
    "filter": ".a /= 2",
    "input": "{\"a\":9}"
  },
  {
    "name": "assign-fallback-field",
    "filter": ".a //= 9",
    "input": "{\"a\":null}"
  },
  {
    "name": "assign-nested-field",
    "filter": ".a.b |= . + 1",
    "input": "{\"a\":{\"b\":1}}"
  },
  {
    "name": "assign-nested-fallback",
    "filter": ".a.b //= 9",
    "input": "{\"a\":{}}"
  },
  {
    "name": "assign-nested-add",
    "filter": ".a.b += 2",
    "input": "{\"a\":{\"b\":3}}"
  },
  {
    "name": "assign-array-inside-object",
    "filter": ".a[1] *= 10",
    "input": "{\"a\":[1,2,3]}"
  },
  {
    "name": "assign-create-object-path",
    "filter": ".a.b |= . + 1",
    "input": "{}"
  },
  {
    "name": "assign-create-array-path",
    "filter": ".[2] += 5",
    "input": "[]"
  },
  {
    "name": "assign-neg-index",
    "filter": ".[-1] += 1",
    "input": "[1,2,3]"
  },
  {
    "name": "chained-index-field",
    "filter": ".a[1]",
    "input": "{\"a\":[10,20,30]}"
  },
  {
    "name": "chained-slice-field",
    "filter": ".a[1:3]",
    "input": "{\"a\":[10,20,30,40]}"
  },
  {
    "name": "map-values-array",
    "filter": "map_values(. + 1)",
    "input": "[1,2,3]"
  },
  {
    "name": "select-stream",
    "filter": ".[] | select(. > 1)",
    "input": "[1,2,3]"
  },
  {
    "name": "add-strings-array",
    "filter": "add",
    "input": "[\"a\",\"b\",\"c\"]"
  },
  {
    "name": "length-array",
    "filter": "length",
    "input": "[1,2,3]"
  },
  {
    "name": "length-object",
    "filter": "length",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "nth-positive",
    "filter": "nth(1)",
    "input": "[9,8,7]"
  },
  {
    "name": "group-by-field",
    "filter": "group_by(.a) | map(length)",
    "input": "[{\"a\":1},{\"a\":2},{\"a\":1}]"
  },
  {
    "name": "unique-by-field",
    "filter": "unique_by(.a) | map(.a)",
    "input": "[{\"a\":1},{\"a\":2},{\"a\":1}]"
  },
  {
    "name": "tojson-object",
    "filter": "tojson",
    "input": "{\"a\":[1,2]}"
  },
  {
    "name": "fromjson-object",
    "filter": "fromjson",
    "input": "\"{\\\"a\\\":1}\""
  },
  {
    "name": "split-empty-sep",
    "filter": "split(\"\")",
    "input": "\"ab\""
  },
  {
    "name": "join-numbers",
    "filter": "join(\"-\")",
    "input": "[1,2,3]"
  },
  {
    "name": "transpose-ragged",
    "filter": "transpose",
    "input": "[[1,2],[3]]"
  },
  {
    "name": "paths-scalars",
    "filter": "paths(scalars)",
    "input": "{\"a\":[1,{\"b\":2}]}"
  },
  {
    "name": "map-values-object-inc",
    "filter": "map_values(. + 1)",
    "input": "{\"a\":1,\"b\":2}"
  },
  {
    "name": "contains-array-false",
    "filter": "contains([4])",
    "input": "[1,2,3]"
  },
  {
    "name": "inside-array-false",
    "filter": "inside([1,2])",
    "input": "[1,2,3]"
  },
  {
    "name": "index-array-missing",
    "filter": "index(9)",
    "input": "[1,2,3]"
  },
  {
    "name": "rindex-array-missing",
    "filter": "rindex(9)",
    "input": "[1,2,3]"
  },
  {
    "name": "indices-array-empty",
    "filter": "indices(9)",
    "input": "[1,2,3]"
  },
  {
    "name": "bsearch-missing",
    "filter": "bsearch(2)",
    "input": "[1,3,5]"
  },
  {
    "name": "reduce-empty",
    "filter": "reduce .[] as $x (0; . + $x)",
    "input": "[]"
  },
  {
    "name": "reduce-single",
    "filter": "reduce .[] as $x (0; . + $x)",
    "input": "[7]"
  },
  {
    "name": "reduce-try-catch",
    "filter": "reduce .[] as $x (0; try (. + $x) catch .)",
    "input": "[1,2,3]"
  },
  {
    "name": "foreach-empty",
    "filter": "foreach .[] as $x (0; . + $x; .)",
    "input": "[]"
  },
  {
    "name": "foreach-mixed-sign",
    "filter": "foreach .[] as $x (0; . + $x; .)",
    "input": "[-1,2,-3]"
  },
  {
    "name": "try-catch-div-zero",
    "filter": "try (.a / .b) catch \"divzero\"",
    "input": "{\"a\":1,\"b\":0}"
  },
  {
    "name": "try-fallback",
    "filter": "(try .a.b catch empty) // \"fallback\"",
    "input": "{\"a\":1}"
  },
  {
    "name": "try-catch-reduce-scalar",
    "filter": "try (reduce .[] as $x (0; . + $x)) catch \"noiter\"",
    "input": "1"
  },
  {
    "name": "arith-mixed",
    "filter": "(.a + .b) * .c - .d / .e",
    "input": "{\"a\":4,\"b\":2,\"c\":3,\"d\":10,\"e\":5}"
  },
  {
    "name": "err-reverse-string",
    "filter": "reverse",
    "input": "\"abc\"",
    "expect_error": true
  },
  {
    "name": "err-keys-string",
    "filter": "keys",
    "input": "\"abc\"",
    "expect_error": true
  },
  {
    "name": "err-contains-array-number",
    "filter": "contains(1)",
    "input": "[1,2]",
    "expect_error": true
  },
  {
    "name": "err-startswith-number",
    "filter": "startswith(\"a\")",
    "input": "1",
    "expect_error": true
  },
  {
    "name": "err-join-number",
    "filter": "join(\"-\")",
    "input": "1",
    "expect_error": true
  },
  {
    "name": "err-getpath-badpath",
    "filter": "getpath(1)",
    "input": "{\"a\":1}",
    "expect_error": true
  },
  {
    "name": "err-arith-string-plus-number",
    "filter": ".a + 1",
    "input": "{\"a\":\"hi\"}",
    "expect_error": true
  },
  {
    "name": "err-division-by-zero",
    "filter": "1 / 0",
    "input": "null",
    "expect_error": true
  },
  {
    "name": "err-setpath-bad-path",
    "filter": "setpath(\"a\";1)",
    "input": "{}",
    "expect_error": true,
    "expect_error_mode": "any"
  },
  {
    "name": "err-delpaths-bad-path",
    "filter": "delpaths([1])",
    "input": "{}",
    "expect_error": true,
    "expect_error_mode": "any"
  },
  {
    "name": "cli-compact-explicit",
    "filter": ".",
    "input": "{\"a\":1}",
    "jq_args": ["-c"],
    "jqx_args": ["-c"]
  },
  {
    "name": "cli-raw-string-output",
    "filter": ".foo",
    "input": "{\"foo\":\"bar\"}",
    "jq_args": ["-r"],
    "jqx_args": ["-r"]
  },
  {
    "name": "cli-slurp-ndjson",
    "filter": ".",
    "input": "1\n2",
    "jq_args": ["-s"],
    "jqx_args": ["-s"]
  },
  {
    "name": "cli-raw-lines",
    "filter": ".",
    "input": "a\nb",
    "jq_args": ["-R"],
    "jqx_args": ["-R"]
  },
  {
    "name": "cli-no-input",
    "filter": ".",
    "input": "",
    "jq_args": ["-n"],
    "jqx_args": ["-n"],
    "jqx_use_stdin": true
  },
  {
    "name": "cli-no-input-raw-slurp",
    "filter": ".",
    "input": "",
    "jq_args": ["-n", "-R", "-s"],
    "jqx_args": ["-n", "-R", "-s"],
    "jqx_use_stdin": true
  }
]
